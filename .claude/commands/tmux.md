# /tmux
同一tmuxウィンドウ内の他のClaudeペインにタスクを送信

## 使用方法
```bash
/tmux <pane_id> <タスク>
```

## 実行内容
0. 禁止事項確認: `bin/docs/conventions/prohibited_items.md`
1. **tmux windowリストを取得して送信先を確認**
   - `tmux list-panes -F "#{pane_id} #{pane_current_command}"` で状況確認
   - 送信先ペインの存在と状態を検証
2. **タスクを送信**
   - 指定されたペインIDにタスクを送信
   - 作業ディレクトリを自動設定
3. **送信後の動作確認**
   - 送信操作が期待通り動作したことを確認
   - エラー時はメインペインに報告

## タスク送信フォーマット
```bash
# 1. 現在のウィンドウのペインのみ確認（他ウィンドウへの誤送信を防止）
tmux list-panes -F "#{pane_id} #{pane_current_command} #{pane_current_path}"

# 2. 現在のウィンドウ内のペインにのみタスク送信
# 注意: %<pane_id>は現在のウィンドウ内のペインIDのみ使用
tmux send-keys -t %<pane_id> "cd '$(pwd)' && [pane:<pane_id>] <タスク>" Enter

# 3. 送信確認（最後に送信したコマンドの取得）
tmux capture-pane -t %<pane_id> -p | tail -n 5
```

## 重要な制限事項
- **現在のウィンドウ内のペインのみ操作可能**
- 他のウィンドウへの送信は明示的に禁止
- `list-panes`は現在のウィンドウのペインのみ表示するため、これにより安全性を確保

## 使用例
```bash
/tmux 1 "このファイルのテストを書いて"
/tmux 2 "コードレビューしてください"
```

## ペイン配置の前提
- あなたは通常 window x.0 にいる（例：0.0, 1.0, 2.0）
- x.1, x.2, x.3 は通常空いている
- ペイン指定がない場合は、現在 x.0 にいると仮定
- 空きペインは自分で確認してから使用可能

## ペイン選択ルール
1. **指定なしの場合**：
   - 現在 x.0 にいると仮定
   - x.1 から順に空きを確認して使用
   
2. **指定ありの場合**：
   - 指定されたペインより右側のペインを使用
   - 例：「ペイン1で」と指定 → 1以降（1, 2, 3）を使用