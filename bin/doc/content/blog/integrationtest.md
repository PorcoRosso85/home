+++
title = "統合テスト"
date = 2025-01-30
+++

統合テスト
|     |                 |                |        |                                                                      |              |     |     | テスト結果                   |     |                |
| --- | --------------- | -------------- | ------ | -------------------------------------------------------------------- | ------------ | --- | --- | ---------------------------- | --- | -------------- |
| 01  | 日次分析/再分析 | 機密情報管理   | 異常系 | シークレットマネージャの設定値が取得できないときエラーログ出力を行う | ログ出力     |     |     | ![](/screenshots/secret.png) |     |                |
| 01  | 日次分析/再分析 | 環境変数       | 異常系 | 環境変数設定値が取得できないときエラーログ出力を行う                 | ログ出力     |     |     | ![](/screenshots/env.png)    |     |                |
| 01  | 日次分析/再分析 | 分析対象       | 異常系 | IP取得ができなかった時エラーログ出力を行う                           | ログ出力     |     |     | ![](/screenshots/01.png)     |     |                |
| 02  | 日次分析/再分析 | 分析対象       | 正常系 | 分析対象候補のIPを取得できる                                         | ログ出力     |     |     | ![](/screenshots/02.png)     |     |                |
| 04  | 日次分析/再分析 | 分析処理       | 正常系 | Bing APIからの記事データ取得                                         | ログ出力     |     |     | ![](/screenshots/04.png)     |     |                |
| 05  | 日次分析/再分析 | 分析処理       | 異常系 | Bing APIエラーレスポンス時にはエラーログ出力を行う                   | ログ出力     |     |     | ![](/screenshots/05.png)     |     | リトライ実行後 |
| 06  | 日次分析/再分析 | 分析処理       | 異常系 | 分析対象IPの分析処理ができないときエラーログ出力を行う               | ログ出力     |     |     | ![](/screenshots/06.png)     |     | リトライ実行後 |
| 07  | 日次分析        | 分析結果保存   | 正常系 | 分析対象IPの分析結果が適切に保存されている                           | ファイル出力 |     |     | ![](/screenshots/07.png)     |     |                |
| 09  | 日次分析/再分析 | 分析結果保存   | 異常系 | 分析対象IPの分析結果が保存されないときエラーログ出力を行う           | ファイル出力 |     |     | ![](/screenshots/09.png)     |     |                |
| 11  | 日次分析        | 通知           | 正常系 | 分析処理成功の通知処理が行われる                                     | 通知出力     |     |     | ![](/screenshots/11.png)     |     |                |
| 12  | 日次分析        | 通知           | 異常系 | 分析処理成功の通知処理が完了しないときエラーログ出力を行う           | 通知出力     |     |     | ![](/screenshots/12.png)     |     |                |
| 13  | 日次分析/再分析 | 最終集計日更新 | 正常系 | 既存ファイルの更新対象IPの最終集計日が適切に更新されている           | ファイル出力 |     |     | ![](/screenshots/13.png)     |     |                |
| 14  | 日次分析/再分析 | 最終集計日更新 | 異常系 | 更新対象IPが更更新できない場合エラーログ出力を行う                   | ログ出力     |     |     | ![](/screenshots/14.png)     |     |                |
| 14  | 日次分析        | リトライ       | 異常系 | 検索処理ないし分析処理が失敗したとき指定回数リトライを実施している   | ログ出力     |     |     | ![](/screenshots/retry.png)  |     |                |
| 92  | 再分析          | エラー処理     | 異常系 | 存在しないURLへのリクエスト、エラーログ                              | ログ出力     |     |     | ![](/screenshots/92.png)     |     |                |
| 93  | 再分析          | エラー処理     | 異常系 | 適切ではないペイロードでのリクエスト、エラーログ                     | ログ出力     |     |     | ![](/screenshots/93.png)     |     |                |
| 94  | 再分析          | 分析結果保存   | 正常系 | 既存のファイルの分析対象IPの分析結果が適切に保存されている           | ファイル出力 |     |     | ![](/screenshots/94.png)     |     |                |
| 95  | 再分析          | 分析結果保存   | 正常系 | 新規のファイルの分析対象IPの分析結果が適切に保存されている           | ファイル出力 |     |     | ![](/screenshots/95.png)     |     |                |

<!-- TODO -->
異常系、存在しないURLへのリクエスト、エラーログ
正常系、既存のファイルの分析対象IPの分析結果が適切に保存されている
正常系、新規のファイルの分析対象IPの分析結果が適切に保存されている
異常系、適切ではないペイロードでのリクエスト、エラーログ

デバッグ処理が本番環境で動作しないことが確認できる

システムテスト
|          |              |        |                                         |              |     |     |     |     |     |
| -------- | ------------ | ------ | --------------------------------------- | ------------ | --- | --- | --- | --- | --- |
| 日次分析 | 分析対象     | 正常系 | 分析対象IPの抽出が適切である            | ログ出力     |     |     |     |     |     | ※適切かどうかの判定要件? 総合テスト? 
| 日次分析 | 分析対象     | 異常系 | 分析対象IPの抽出が適切でない            | ログ出力     |     |     |     |     |     | ※適切かどうかの判定要件? 総合テスト? 
| 日次分析 | 分析処理     | 正常系 | 分析対象IPの分析結果が適切である        | ログ出力     |     |     |     |     |     | ※適切かどうかの判定要件? 総合テスト? 
| 日次分析 | 分析処理     | 異常系 | 分析対象IPの分析結果が適切でない        | ログ出力     |     |     |     |     |     | ※適切かどうかの判定要件? 総合テスト? 
| 日次分析 | 分析結果保存 | 正常系 | 保存したParuqetファイルが利用可能である | ファイル出力 |     |     |     |     |     | ※システムテストで確認いただく？      


