---
url: https://opencode.ai/docs/providers/
saved_at: 2025-09-13T09:31:49Z
title: Providers
domain: opencode.ai
---

# Providers

Using any LLM provider in opencode.

opencode uses the [AI SDK](https://ai-sdk.dev/) and [Models.dev](https://models.dev) to support for **75+ LLM providers** and it supports running local models.

To add a provider you need to:

1. Add the API keys for the provider using `opencode auth login`.
1. Configure the provider in your opencode config.

---

### [Credentials](#credentials)

When you add a provider’s API keys with `opencode auth login`, they are stored
in `~/.local/share/opencode/auth.json`.

---

### [Config](#config)

You can customize the providers through the `provider` section in your opencode
config.

---

#### [Base URL](#base-url)

You can customize the base URL for any provider by setting the `baseURL` option. This is useful when using proxy services or custom endpoints.

opencode.json ```
{  "$schema": "https://opencode.ai/config.json",  "provider": {    "anthropic": {      "options": {        "baseURL": "https://api.anthropic.com/v1"      }    }  }}
```

---

## [opencode zen](#opencode-zen)

opencode zen is a list of models provided by the opencode team that have been
tested and verified to work well with opencode. [Learn more](/docs/zen).

1. You sign in to **[opencode zen](https://opencode.ai/auth)** and get your API key.
1. You run `opencode auth login` and select opencode and add your API key.
1. Run `/models` in the TUI to see the list of models we recommend.

It works like any other provider in opencode. And is completely optional to use
it.

---

## [Directory](#directory)

Let’s look at some of the providers in detail. If you’d like to add a provider to the
list, feel free to open a PR.

---

To use Amazon Bedrock with opencode:

1. Head over to the **Model catalog** in the Amazon Bedrock console and request
access to the models you want.
1. You’ll need either to set one of the following environment variables:

Once you have one of the above, set it while running opencode.

Terminal window ```
AWS_ACCESS_KEY_ID=XXX opencode
```

Or add it to a `.env` file in the project root.

.env ```
AWS_ACCESS_KEY_ID=XXX
```

Or add it to your bash profile.

~/.bash\_profile ```
export AWS_ACCESS_KEY_ID=XXX
```
  - `AWS_ACCESS_KEY_ID`: You can get this by creating an IAM user and generating
  an access key for it.
  - `AWS_PROFILE`: First login through AWS IAM Identity Center (or AWS SSO) using
  `aws sso login`. Then get the name of the profile you want to use.
  - `AWS_BEARER_TOKEN_BEDROCK`: You can generate a long-term API key from the
  Amazon Bedrock console.
1. Run the `/models` command to select the model you want.

---

### [Anthropic](#anthropic)

We recommend signing up for [Claude Pro](https://www.anthropic.com/news/claude-pro) or [Max](https://www.anthropic.com/max), it’s the most cost-effective way to use opencode.

Once you’ve signed up, run `opencode auth login` and select Anthropic.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● Anthropic│  ...└
```

Here you can select the **Claude Pro/Max** option and it’ll open your browser
and ask you to authenticate.

Terminal window ```
$ opencode auth login┌  Add credential│◇  Select provider│  Anthropic│◆  Login method│  ● Claude Pro/Max│  ○ Create API Key│  ○ Manually enter API Key└
```

Now all the the Anthropic models should be available when you use the `/models` command.

##### [Using API keys](#using-api-keys)

You can also select **Create API Key** if you don’t have a Pro/Max subscription. It’ll also open your browser and ask you to login to Anthropic and give you a code you can paste in your terminal.

Or if you already have an API key, you can select **Manually enter API Key** and paste it in your terminal.

---

### [Azure OpenAI](#azure-openai)

1. Head over to the [Azure portal](https://portal.azure.com/) and create an **Azure OpenAI** resource. You’ll need:
  - **Resource name**: This becomes part of your API endpoint ( `https://RESOURCE_NAME.openai.azure.com/`)
  - **API key**: Either `KEY 1` or `KEY 2` from your resource
1. Go to [Azure AI Foundry](https://ai.azure.com/) and deploy a model.
1. Run `opencode auth login` and select **Azure**.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● Azure│  ...└
```
1. Enter your API key.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  Azure│◇  Enter your API key│  _└
```
1. Set your resource name as an environment variable:

Terminal window ```
AZURE_RESOURCE_NAME=XXX opencode
```

Or add it to a `.env` file in the project root:

.env ```
AZURE_RESOURCE_NAME=XXX
```

Or add it to your bash profile:

~/.bash\_profile ```
export AZURE_RESOURCE_NAME=XXX
```
1. Run the `/models` command to select your deployed model.

---

### [Cerebras](#cerebras)

1. Head over to the [Cerebras console](https://inference.cerebras.ai/), create an account, and generate an API key.
1. Run `opencode auth login` and select **Cerebras**.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● Cerebras│  ...└
```
1. Enter your Cerebras API key.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  Cerebras│◇  Enter your API key│  _└
```
1. Run the `/models` command to select a model like *Qwen 3 Coder 480B*.

---

### [DeepSeek](#deepseek)

1. Head over to the [DeepSeek console](https://platform.deepseek.com/), create an account, and click **Create new API key**.
1. Run `opencode auth login` and select **DeepSeek**.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● DeepSeek│  ...└
```
1. Enter your DeepSeek API key.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  DeepSeek│◇  Enter your API key│  _└
```
1. Run the `/models` command to select a DeepSeek model like *DeepSeek Reasoner*.

---

### [Fireworks AI](#fireworks-ai)

1. Head over to the [Fireworks AI console](https://app.fireworks.ai/), create an account, and click **Create API Key**.
1. Run `opencode auth login` and select **Fireworks AI**.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● Fireworks AI│  ...└
```
1. Enter your Fireworks AI API key.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  Fireworks AI│◇  Enter your API key│  _└
```
1. Run the `/models` command to select a model like *Kimi K2 Instruct*.

---

### [GitHub Copilot](#github-copilot)

To use your GitHub Copilot subscription with opencode:

1. Run `opencode auth login` and select GitHub Copilot.

Terminal window ```
$ opencode auth login┌  Add credential
│◇  Select provider│  GitHub Copilot│◇   ──────────────────────────────────────────────╮│                                                 ││  Please visit: https://github.com/login/device  ││  Enter code: 8F43-6FCF                          ││                                                 │├─────────────────────────────────────────────────╯│◓  Waiting for authorization...
```
1. Navigate to [github.com/login/device](https://github.com/login/device) and enter the code.
1. Now run the `/models` command to select the model you want.

---

### [Groq](#groq)

1. Head over to the [Groq console](https://console.groq.com/), click **Create API Key**, and copy the key.
1. Run `opencode auth login` and select Groq.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● Groq│  ...└
```
1. Enter the API key for the provider.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  Groq│◇  Enter your API key│  _└
```
1. Run the `/models` command to select the one you want.

---

### [LM Studio](#lm-studio)

You can configure opencode to use local models through LM Studio.

opencode.json ```
{  "$schema": "https://opencode.ai/config.json",  "provider": {    "lmstudio": {      "npm": "@ai-sdk/openai-compatible",      "name": "LM Studio (local)",      "options": {        "baseURL": "http://127.0.0.1:1234/v1"      },      "models": {        "google/gemma-3n-e4b": {          "name": "Gemma 3n-e4b (local)"        }      }    }  }}
```

In this example:

- `lmstudio` is the custom provider ID. This can be any string you want.
- `npm` specifies the package to use for this provider. Here, `@ai-sdk/openai-compatible` is used for any OpenAI-compatible API.
- `name` is the display name for the provider in the UI.
- `options.baseURL` is the endpoint for the local server.
- `models` is a map of model IDs to their configurations. The model name will be displayed in the model selection list.

---

### [Moonshot AI](#moonshot-ai)

To use Kimi K2 from Moonshot AI:

1. Head over to the [Moonshot AI console](https://platform.moonshot.ai/console), create an account, and click **Create API key**.
1. Run `opencode auth login` and select **Moonshot AI**.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ...│  ● Moonshot AI└
```
1. Enter your Moonshot API key.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  Moonshot AI│◇  Enter your API key│  _└
```
1. Run the `/models` command to select *Kimi K2*.

---

### [Ollama](#ollama)

You can configure opencode to use local models through Ollama.

opencode.json ```
{  "$schema": "https://opencode.ai/config.json",  "provider": {    "ollama": {      "npm": "@ai-sdk/openai-compatible",      "name": "Ollama (local)",      "options": {        "baseURL": "http://localhost:11434/v1"      },      "models": {        "llama2": {          "name": "Llama 2"        }      }    }  }}
```

In this example:

- `ollama` is the custom provider ID. This can be any string you want.
- `npm` specifies the package to use for this provider. Here, `@ai-sdk/openai-compatible` is used for any OpenAI-compatible API.
- `name` is the display name for the provider in the UI.
- `options.baseURL` is the endpoint for the local server.
- `models` is a map of model IDs to their configurations. The model name will be displayed in the model selection list.

---

### [OpenAI](#openai)

1. Head over to the [OpenAI Platform console](https://platform.openai.com/api-keys), click **Create new secret key**, and copy the key.
1. Run `opencode auth login` and select OpenAI.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● OpenAI│  ...└
```
1. Enter the API key for the provider.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  OpenAI│◇  Enter your API key│  _└
```
1. Run the `/models` command to select the one you want.

---

### [opencode zen](#opencode-zen-1)

opencode zen is a list of tested and verified models provided by the opencode team. [Learn more](/docs/zen).

1. Sign in to **[opencode zen](https://opencode.ai/auth)** and click **Create API Key**.
1. Run `opencode auth login` and select **opencode zen**.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● opencode zen│  ...└
```
1. Enter your opencode API key.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  opencode zen│◇  Enter your API key│  _└
```
1. Run the `/models` command to select a model like *Qwen 3 Coder 480B*.

---

### [OpenRouter](#openrouter)

1. Head over to the [OpenRouter dashboard](https://openrouter.ai/settings/keys), click **Create API Key**, and copy the key.
1. Run `opencode auth login` and select OpenRouter.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● OpenRouter│  ○ Anthropic│  ○ Google│  ...└
```
1. Enter the API key for the provider.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  OpenRouter│◇  Enter your API key│  _└
```
1. Many OpenRouter models are preloaded by default, run the `/models` command to select the one you want.

You can also add additional models through your opencode config.

opencode.json ```
{  "$schema": "https://opencode.ai/config.json",  "provider": {    "openrouter": {      "models": {        "somecoolnewmodel": {}      }    }  }}
```
1. You can also customize them through your opencode config. Here’s an example of specifying a provider

opencode.json ```
{  "$schema": "https://opencode.ai/config.json",  "provider": {    "openrouter": {      "models": {        "moonshotai/kimi-k2": {          "options": {            "provider": {              "order": ["baseten"],              "allow_fallbacks": false            }          }        }      }    }  }}
```

---

### [Together AI](#together-ai)

1. Head over to the [Together AI console](https://api.together.ai), create an account, and click **Add Key**.
1. Run `opencode auth login` and select **Together AI**.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● Together AI│  ...└
```
1. Enter your Together AI API key.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  Together AI│◇  Enter your API key│  _└
```
1. Run the `/models` command to select a model like *Kimi K2 Instruct*.

---

### [xAI](#xai)

For a limited time, you can use xAI’s Grok Code for free with opencode.

1. Make sure you are on the latest version of opencode.
1. Run the `/models` command and select **Grok Code Free**.

As a part of the trial period, the xAI team will be using the request logs to
monitor and improve Grok Code.

---

### [Z.AI](#zai)

1. Head over to the [Z.AI API console](https://z.ai/manage-apikey/apikey-list), create an account, and click **Create a new API key**.
1. Run `opencode auth login` and select **Z.AI**.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ● Z.AI│  ...└
```
1. Enter your Z.AI API key.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Select provider│  Z.AI│◇  Enter your API key│  _└
```
1. Run the `/models` command to select a model like *GLM-4.5*.

---

## [Custom provider](#custom-provider)

To add any **OpenAI-compatible** provider that’s not listed in `opencode auth login`:

1. Run `opencode auth login` and scroll down to **Other**.

Terminal window ```
$ opencode auth login
┌  Add credential│◆  Select provider│  ...│  ● Other└
```
1. Enter a unique ID for the provider.

Terminal window ```
$ opencode auth login
┌  Add credential│◇  Enter provider id│  myprovider└
```
1. Enter your API key for the provider.

Terminal window ```
$ opencode auth login
┌  Add credential│▲  This only stores a credential for myprovider - you will need configure it in opencode.json, check the docs for examples.│◇  Enter your API key│  sk-...└
```
1. Create or update your `opencode.json` file in your project directory:

opencode.json ```
{  "$schema": "https://opencode.ai/config.json",  "provider": {    "myprovider": {      "npm": "@ai-sdk/openai-compatible",      "name": "My AI ProviderDisplay Name",      "options": {        "baseURL": "https://api.myprovider.com/v1"      },      "models": {        "my-model-name": {          "name": "My Model Display Name"        }      }    }  }}
```

Here are the configuration options:

More on the advanced options in the example below.
  - **npm**: AI SDK package to use, `@ai-sdk/openai-compatible` for OpenAI-compatible providers
  - **name**: Display name in UI.
  - **models**: Available models.
  - **options.baseURL**: API endpoint URL.
  - **options.apiKey**: Optionally set the API key, if not using auth.
  - **options.headers**: Optionally set custom headers.
1. Run the `/models` command and your custom provider and models will appear in the selection list.

---

##### [Example](#example)

Here’s an example setting the `apiKey` and `headers` options.

opencode.json ```
{  "$schema": "https://opencode.ai/config.json",  "provider": {    "myprovider": {      "npm": "@ai-sdk/openai-compatible",      "name": "My AI ProviderDisplay Name",      "options": {        "baseURL": "https://api.myprovider.com/v1",        "apiKey": "{env:ANTHROPIC_API_KEY}",        "headers": {          "Authorization": "Bearer custom-token"        }      },      "models": {        "my-model-name": {          "name": "My Model Display Name"        }      }    }  }}
```

We are setting the `apiKey` using the `env` variable syntax, [learn more](/docs/config#env-vars).

---

## [Troubleshooting](#troubleshooting)

If you are having trouble with configuring a provider, check the following:

1. **Check the auth setup**: Run `opencode auth list` to see if the credentials
for the provider are added to your config.

This doesn’t apply to providers like Amazon Bedrock, that rely on environment variables for their auth.
1. For custom providers, check the opencode config and:
  - Make sure the provider ID used in `opencode auth login` matches the ID in your opencode config.
  - The right npm package is used for the provider. For example, use `@ai-sdk/cerebras` for Cerebras. And for all other OpenAI-compatible providers, use `@ai-sdk/openai-compatible`.
  - Check correct API endpoint is used in the `options.baseURL` field.
