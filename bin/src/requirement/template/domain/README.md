# ドメイン層

要件グラフの本質的なルールと制約を定義。

## 要件グラフとは

ノード（要件）とエッジ（関係性）で構成される有向グラフ。あらゆる概念間の関係構造を表現する。

```
[要件A] ← 関係性 ← [要件B]
   ↑                    ↑
 関係性               関係性
   |                    |
[要件C]              [要件D]
```

要件の本質は「概念」と「その関係性」の表現であり、具体的な適用領域は限定しない。

## 不変条件

- **循環参照の禁止**: A→B→C→Aのような依存は許可しない
- **グラフ深さ制限**: 過度に深い階層構造を防ぐ
- **要件の一意性**: 同一IDの要件は存在できない

## エンティティ

- **RequirementEntity** - 要件の表現
- **LocationURI** - 要件の識別子
- **VersionState** - 要件の状態追跡

## データ定義

スキーマ定義は[`ddl/`](./ddl/README.md)を参照。

## 上位層との関係

- [`application層`](../application/README.md)がこれらのルールに基づいた操作を提供
- [`infrastructure層`](../infrastructure/README.md)がこれらのエンティティを永続化