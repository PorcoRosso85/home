# 関数依存関係（FunctionDependency）スキーマの調査経緯

## 調査プロセス

1. まず、README.mdを確認して関数依存関係の生成方法を探しました。
2. 次に、cli.tsを調査してヘルプコマンドを実行し、関連コマンドを特定しました。
3. FunctionDependencyCommand クラスを確認して仕様を理解しました。
4. FunctionDependencyAnalyzer クラスを調査して依存関係の解析ロジックを確認しました。
5. 各種コマンドを試行して実際の動作を確認しました。

## 主な発見事項

- `function-deps` コマンドは依存関係を表示するためのものですが、自動生成機能は実装されていません。
- `req-to-function` コマンドは関数定義JSONを生成しますが、依存関係JSONは生成しません。
- `FunctionDependency.meta.json` メタスキーマは存在していますが、それを使った生成コマンドは明示的に提供されていません。

## 本来の記載場所

この機能については以下の箇所に文書化されるべきでした：

1. **README.md** - 依存関係ファイルの生成方法と使用例
2. **FUNCTION.md** - 関数型の詳細仕様の一部として
3. **cli.ts のヘルプ出力** - 専用コマンドまたはサブコマンドとして

## 手動で生成した理由

1. 自動生成機能が未実装または不明確であったため
2. `req-gen` や `req-to-function` コマンドでは依存関係ファイルが自動生成されなかったため
3. プロジェクトの需要に応じて手動で対応する必要があったため

## 改善提案

1. `req-to-function` コマンドを拡張し、同時に依存関係ファイルも生成するようにする
2. 依存関係の管理に特化した専用コマンド（例: `function-dep-gen`）の実装
3. 要件ファイル（require.json）内に依存関係情報を記述する形式の標準化
4. README.mdに明確な使用方法と例を追加

これらの改善により、依存関係の管理がより効率的かつ一貫性を持って行えるようになります。
