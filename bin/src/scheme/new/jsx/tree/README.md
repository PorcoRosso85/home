# Deno + Vite + React SSR/SSG プロジェクト

このプロジェクトは、パッケージマネージャを使用せずに直接ESMモジュールをインポートする方式で、ReactアプリケーションのSSR（サーバーサイドレンダリング）およびSSG（静的サイト生成）を実装するフレームワークです。

## 主な特徴

- **パッケージマネージャ不要** - `package.json`を使わず、ESMモジュールを直接URLからインポート
- **Deno + Vite** - 高速な開発体験とビルドパフォーマンス
- **SSR/SSG対応** - サーバーサイドレンダリングと静的サイト生成の両方に対応
- **React Server Componentライク** - 将来的にはRSCのようなアプローチを目指す

## アーキテクチャ

### インポート方式

このプロジェクトでは、ESモジュールを直接URLからインポートする方式を採用しています：

```tsx
import React from "https://esm.sh/react@18.2.0";
import { createRoot } from "https://esm.sh/react-dom@18.2.0/client";
```

この方式により：
- `package.json`や`node_modules`が不要
- 依存関係の明示的な管理が可能
- Denoとの互換性が向上

### ビルドシステム

`build.ts`はプロジェクトの中心的なビルドツールで、以下の機能を提供します：

- **開発サーバー設定** - Viteを使用した高速な開発環境
- **SSG事前ビルド** - 静的サイト生成のためのビルドプロセス
- **バンドル** - 本番環境向けのアセットバンドル

単一のビルドスクリプトでこれらすべての機能をカバーし、シンプルな開発ワークフローを実現しています。

### レンダリング戦略

このプロジェクトは以下のレンダリング戦略をサポートしています：

- **SSR（サーバーサイドレンダリング）** - 初期ロード時にサーバーでHTMLを生成
- **SSG（静的サイト生成）** - ビルド時に静的HTMLファイルを生成
- **ハイドレーション** - クライアント側でインタラクティブ性を復元

## 将来の方針

- **React Server Componentへの近似** - ハイドレーションの最適化を進め、可能な限りReact Server Componentに近い体験を提供
- **SSR/SSGのさらなる強化** - パフォーマンスとSEO最適化の向上
- **タイプセーフなAPI** - TypeScriptの恩恵を最大限に活用した型安全なインターフェース

## 使い方

### 開発サーバーの起動

```bash
deno run -A ./build.ts
```

### 静的サイトの生成

```bash
deno run -A ./src/build.tsx
```

### デプロイ

生成された`dist`ディレクトリをお好みのホスティングサービスにデプロイしてください。

## プロジェクト構造

```
├── src/
│   ├── components/   # 共通コンポーネント
│   ├── pages/        # ページコンポーネント
│   ├── styles/       # CSSスタイル
│   ├── client/       # クライアント固有のコード
│   ├── build.tsx     # SSG用ビルドスクリプト
│   └── main.tsx      # メインエントリーポイント
├── build.ts          # 開発サーバー・ビルド設定
└── index.tsx         # アプリケーションコンポーネント
```