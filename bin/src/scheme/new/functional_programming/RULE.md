# 開発・テストルール

## ファイル操作に関するルール

1. **テスト内でのファイル直接変更の禁止**
   - テストスクリプトからJSONファイルなどのデータファイルを直接変更してはならない
   - 直接変更は本来の機能の動作検証とは言えず、テストとしての価値が低い
   - 変更が必要な場合は必ずCLIコマンドまたは提供されたAPIを使用すること

2. **問題発見時のFIXMEコメント**
   - スキーマ構造や依存関係に問題を発見した場合はFIXMEコメントで記録
   - コメントには以下の情報を含める：
     - 発見した問題の詳細
     - 想定される正しい動作
     - 修正のための提案があれば追記

3. **ユーザーへのフィードバック**
   - テスト過程で発見した問題や改善点は明示的にユーザーに伝える
   - 問題が解決するまでテストを完了とみなさない
   - 対応策を複数提案し、ユーザーに選択肢を提供する

## E2Eテスト実施における注意点

1. **オリジナルソースの使用**
   - システムが提供する機能を使用したエンドツーエンドテストのみが有効
   - ショートカットや迂回策を用いないこと

2. **テスト環境の独立性確保**
   - テスト実行は他のテストや本番環境に影響を与えないよう隔離された環境で行う
   - テスト用の一時ディレクトリや専用のファイル名を使用すること

3. **テスト後のクリーンアップ**
   - テスト完了後は環境を元の状態に戻す
   - 生成されたテストファイルは必要に応じて削除する

## ドキュメント化のルール

1. **テスト結果の詳細な記録**
   - 実行したコマンド
   - 予想される結果と実際の結果
   - 発生した問題や気付いた点
   - 改善のための提案

2. **再現性の確保**
   - テスト手順は他の開発者が再現できるよう詳細に記述する
   - 必要な前提条件や環境設定も漏れなく記録する
