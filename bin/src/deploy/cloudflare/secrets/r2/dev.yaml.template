# R2 Development Environment Configuration Template
# Copy this to dev.yaml and encrypt with 'nix run .#secrets-edit -- secrets/r2/dev.yaml'

# Environment metadata
environment: dev
description: "Development environment R2 configuration"
created_date: "YYYY-MM-DD"
last_updated: "YYYY-MM-DD"

# Cloudflare Account ID (required)
cf_account_id: your-dev-account-id-here

# R2 bucket configurations for development
r2_buckets:
  - name: dev-user-uploads
    purpose: "User uploaded files in development"
    public_access: false
  - name: dev-static-assets
    purpose: "Static assets for development"
    public_access: true

# S3 API endpoint (auto-generated from account ID)
r2_s3_endpoint: https://your-dev-account-id-here.r2.cloudflarestorage.com

# S3 API region (always 'auto' for R2)
r2_region: auto

# S3 API credentials for development (optional - only needed for S3 API access)
# For Workers Binding only, these are not required
r2_access_key_id: your-dev-access-key-here
r2_secret_access_key: your-dev-secret-key-here

# Development-specific settings
development:
  debug_mode: true
  cors_enabled: true
  cors_origins:
    - "http://localhost:3000"
    - "http://localhost:5173"
    - "https://*.dev.example.com"
  upload_size_limit: "10MB"
  retention_days: 7  # Auto-cleanup for dev environment

# Security settings for development
security:
  require_auth: false  # Relaxed for development
  rate_limiting: false
  ip_whitelist: []  # No IP restrictions in dev