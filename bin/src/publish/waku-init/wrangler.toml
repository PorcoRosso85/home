name = "waku-init-prod"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]
main = "dist/worker/serve-cloudflare.js"
assets = { directory = "dist/worker/public" }

# Environment variables
[vars]
STORAGE_TYPE = "log"

# Observability settings - enables Workers Logs
[observability]
enabled = true

# Development server configuration
[dev]
port = 8787

# R2 Bucket configuration for data files
[[r2_buckets]]
binding = "DATA_BUCKET"
bucket_name = "waku-data"

# Staging environment configuration
[env.staging]
name = "waku-init-stg"

[env.staging.vars]
STORAGE_TYPE = "log"

[env.staging.observability]
enabled = true

[[env.staging.r2_buckets]]
binding = "DATA_BUCKET"
bucket_name = "stg-waku-data"