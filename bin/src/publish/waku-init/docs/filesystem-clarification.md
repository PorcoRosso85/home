# ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ä½¿ç”¨ã«é–¢ã™ã‚‹é‡è¦ãªèª¬æ˜

## âŒ èª¤è§£ã—ã¦ã„ãŸç‚¹

å½“åˆã®`log-actions.ts`å®Ÿè£…ã§ã€Workersç’°å¢ƒã§ã‚‚Node.jsã®`fs`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒä½¿ãˆã‚‹ã¨èª¤è§£ã—ã¦ã„ã¾ã—ãŸã€‚

## âœ… å®Ÿéš›ã®åˆ¶ç´„

### Workersç’°å¢ƒã®åˆ¶é™
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãªã—**: `fs`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä½¿ç”¨ä¸å¯
- **ãƒ¡ãƒ¢ãƒªã®ã¿**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“ã§ãƒ‡ãƒ¼ã‚¿å…±æœ‰ä¸å¯
- **ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹**: å„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ç‹¬ç«‹

### ä½¿ãˆã‚‹æ°¸ç¶šåŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| æ–¹æ³• | ç”¨é€” | æ–™é‡‘ |
|------|------|------|
| **console.log** | ãƒ­ã‚°å‡ºåŠ›ï¼ˆä¸€æ™‚çš„ï¼‰ | ç„¡æ–™ |
| **KV Storage** | Key-Valueã‚¹ãƒˆã‚¢ | ç„¡æ–™æ ã‚ã‚Š |
| **D1 Database** | SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | ç„¡æ–™æ ã‚ã‚Š |
| **R2 Storage** | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | ç„¡æ–™æ ã‚ã‚Š |
| **Durable Objects** | ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«å‡¦ç† | æœ‰æ–™ |
| **Analytics Engine** | åˆ†æç”¨ãƒ‡ãƒ¼ã‚¿ | æœ‰æ–™ |

## ğŸ“Š ç’°å¢ƒåˆ¥ã®å‹•ä½œ

```javascript
// Waku dev server (Node.jsç’°å¢ƒ)
npm run dev  // âœ… fsä½¿ç”¨å¯èƒ½

// Wrangler (Workersç’°å¢ƒ)
wrangler dev  // âŒ fsä½¿ç”¨ä¸å¯
wrangler dev --local=false  // âŒ fsä½¿ç”¨ä¸å¯
```

## ğŸ”§ æ¨å¥¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
    â†“
console.log (å³åº§)
    â†“
KV/D1 (ä¸€æ™‚ä¿å­˜)
    â†“
Scheduled Worker (å®šæœŸå®Ÿè¡Œ)
    â†“
R2 (JSONLæ°¸ç¶šåŒ–)
```

## ã‚³ãƒ¼ãƒ‰ä¾‹

```typescript
// âŒ å‹•ä½œã—ãªã„
import * as fs from 'fs';
fs.writeFileSync('data.json', content);

// âœ… æ­£ã—ã„æ–¹æ³•
await env.KV.put('key', content);
await env.R2.put('file.json', content);
await env.DB.prepare('INSERT ...').run();
```

## ã¾ã¨ã‚

- **Wakué–‹ç™ºæ™‚**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ä½¿ç”¨å¯ï¼ˆNode.jsï¼‰
- **Wrangler/æœ¬ç•ª**: Cloudflareã‚µãƒ¼ãƒ“ã‚¹ï¼ˆKV/D1/R2ï¼‰ä½¿ç”¨å¿…é ˆ
- **ãƒ­ã‚°**: console.log â†’ wrangler tail/Dashboardç¢ºèª