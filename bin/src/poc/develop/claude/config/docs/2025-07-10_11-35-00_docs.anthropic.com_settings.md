[Anthropic home page light logo dark logo](/)

リファレンス

Claude Code設定

[ようこそ](/ja/home) [開発者ガイド](/ja/docs/intro) [APIガイド](/ja/api/overview) [Claude Code](/ja/docs/claude-code/overview) [モデルコンテキストプロトコル (MCP)](/en/docs/mcp) [リソース](/ja/resources/overview) [リリースノート](/ja/release-notes/overview)

- [Documentation](/ja/home) - [Developer Discord](https://www.anthropic.com/discord) - [Support](https://support.anthropic.com/) ##### はじめに

- [概要](/ja/docs/claude-code/overview)
- [セットアップ](/ja/docs/claude-code/setup)
- [クイックスタート](/ja/docs/claude-code/quickstart)
- [メモリ管理](/ja/docs/claude-code/memory)
- [一般的なワークフロー](/ja/docs/claude-code/common-workflows)

##### Claudeで構築

- [IDEにClaude Codeを追加する](/ja/docs/claude-code/ide-integrations)
- [Model Context Protocol (MCP)](/ja/docs/claude-code/mcp)
- [GitHub Actions](/ja/docs/claude-code/github-actions)
- [Claude Code SDK](/ja/docs/claude-code/sdk)
- [トラブルシューティング](/ja/docs/claude-code/troubleshooting)

##### デプロイ

- [概要](/ja/docs/claude-code/third-party-integrations)
- [Amazon Bedrock](/ja/docs/claude-code/amazon-bedrock)
- [Google Vertex AI](/ja/docs/claude-code/google-vertex-ai)
- [Corporate proxy](/ja/docs/claude-code/corporate-proxy)
- [LLMゲートウェイ](/ja/docs/claude-code/llm-gateway)
- [開発コンテナ](/ja/docs/claude-code/devcontainer)

##### 管理

- [アイデンティティとアクセス管理](/ja/docs/claude-code/iam)
- [セキュリティ](/ja/docs/claude-code/security)
- [監視](/ja/docs/claude-code/monitoring-usage)
- [コスト](/ja/docs/claude-code/costs)

##### リファレンス

- [CLIリファレンス](/ja/docs/claude-code/cli-reference)
- [インタラクティブモード](/ja/docs/claude-code/interactive-mode)
- [スラッシュコマンド](/ja/docs/claude-code/slash-commands)
- [設定](/ja/docs/claude-code/settings)
- [フック](/ja/docs/claude-code/hooks)

##### リソース

- [データ使用](/ja/docs/claude-code/data-usage)
- [法的事項とコンプライアンス](/ja/docs/claude-code/legal-and-compliance)

Claude Codeは、あなたのニーズに合わせて動作を設定するための様々な設定を提供しています。インタラクティブREPLを使用する際に `/config` コマンドを実行することで、Claude Codeを設定できます。

## [​](#%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB)

設定ファイル

`settings.json` ファイルは、階層設定を通じてClaude Codeを設定するための公式メカニズムです：

- **ユーザー設定** は `~/.claude/settings.json` で定義され、すべてのプロジェクトに適用されます。
- **プロジェクト設定** はプロジェクトディレクトリに保存されます：
  - `.claude/settings.json` はソース管理にチェックインされ、チームと共有される設定用
  - `.claude/settings.local.json` はチェックインされない設定用で、個人的な設定や実験に便利です。Claude Codeは作成時に `.claude/settings.local.json` を無視するようにgitを設定します。
- Claude Codeのエンタープライズデプロイメントでは、 **エンタープライズ管理ポリシー設定** もサポートしています。これらはユーザーおよびプロジェクト設定よりも優先されます。システム管理者は、macOSでは `/Library/Application Support/ClaudeCode/managed-settings.json` に、LinuxおよびWindows via WSLでは `/etc/claude-code/managed-settings.json` にポリシーをデプロイできます。

Example settings.json

```JSON
{
  "permissions": {
    "allow": [
      "Bash(npm run lint)",
      "Bash(npm run test:*)",
      "Read(~/.zshrc)"
    ],
    "deny": [
      "Bash(curl:*)"
    ]
  },
  "env": {
    "CLAUDE_CODE_ENABLE_TELEMETRY": "1",
    "OTEL_METRICS_EXPORTER": "otlp"
  }
}
```

### [​](#%E5%88%A9%E7%94%A8%E5%8F%AF%E8%83%BD%E3%81%AA%E8%A8%AD%E5%AE%9A)

利用可能な設定

`settings.json` は多数のオプションをサポートしています：

| キー | 説明 | 例 |
| --- | --- | --- |
| `apiKeyHelper` | 認証値を生成するために `/bin/sh` で実行されるカスタムスクリプト。この値は一般的にモデルリクエストの `X-Api-Key` 、 `Authorization: Bearer` 、 `Proxy-Authorization: Bearer` ヘッダーとして送信されます | `/bin/generate_temp_api_key.sh` |
| `cleanupPeriodDays` | チャット記録をローカルに保持する期間（デフォルト：30日） | `20` |
| `env` | すべてのセッションに適用される環境変数 | `{ " FOO ": " bar " }` |
| `includeCoAuthoredBy` | gitコミットとプルリクエストに `co-authored-by Claude` 署名を含めるかどうか（デフォルト： `true` ） | `false` |
| `permissions` | 権限の構造については下の表を参照してください。 |  |

### [​](#%E6%A8%A9%E9%99%90%E8%A8%AD%E5%AE%9A)

権限設定

| キー | 説明 | 例 |
| --- | --- | --- |
| `allow` | ツール使用を許可する [権限ルール](/ja/docs/claude-code/iam#configuring-permissions) の配列 | `[ " Bash(git diff:*) " ]` |
| `deny` | ツール使用を拒否する [権限ルール](/ja/docs/claude-code/iam#configuring-permissions) の配列 | `[ " WebFetch ", " Bash(curl:*) " ]` |
| `additionalDirectories` | Claudeがアクセスできる追加の [作業ディレクトリ](iam#working-directories) | `[ "../docs/ " ]` |
| `defaultMode` | Claude Code起動時のデフォルト [権限モード](iam#permission-modes) | `" allowEdits "` |
| `disableBypassPermissionsMode` | `bypassPermissions` モードの有効化を防ぐために `" disable "` に設定。 [管理ポリシー設定](iam#enterprise-managed-policy-settings) を参照 | `" disable "` |

### [​](#%E8%A8%AD%E5%AE%9A%E3%81%AE%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D)

設定の優先順位

設定は優先順位の順序で適用されます：

1. エンタープライズポリシー（ [IAMドキュメント](/ja/docs/claude-code/iam#enterprise-managed-policy-settings) を参照）
1. コマンドライン引数
1. ローカルプロジェクト設定
1. 共有プロジェクト設定
1. ユーザー設定

## [​](#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0)

環境変数

Claude Codeは、その動作を制御するために以下の環境変数をサポートしています：

すべての環境変数は [`settings.json`](/_sites/docs.anthropic.com/ja/docs/claude-code/settings#available-settings) でも設定できます。これは各セッションで環境変数を自動的に設定したり、チームや組織全体に環境変数のセットを展開したりする方法として便利です。

| 変数 | 目的 |
| --- | --- |
| `ANTHROPIC_API_KEY` | `X-Api-Key` ヘッダーとして送信されるAPIキー、通常はClaude SDK用（インタラクティブ使用の場合は `/login` を実行） |
| `ANTHROPIC_AUTH_TOKEN` | `Authorization` および `Proxy-Authorization` ヘッダーのカスタム値（ここで設定した値には `Bearer ` が前置されます） |
| `ANTHROPIC_CUSTOM_HEADERS` | リクエストに追加したいカスタムヘッダー（ `Name: Value` 形式） |
| `ANTHROPIC_MODEL` | 使用するカスタムモデルの名前（ [モデル設定](/ja/docs/claude-code/bedrock-vertex-proxies#model-configuration) を参照） |
| `ANTHROPIC_SMALL_FAST_MODEL` | [バックグラウンドタスク用のHaikuクラスモデル](/ja/docs/claude-code/costs) の名前 |
| `BASH_DEFAULT_TIMEOUT_MS` | 長時間実行されるbashコマンドのデフォルトタイムアウト |
| `BASH_MAX_TIMEOUT_MS` | モデルが長時間実行されるbashコマンドに設定できる最大タイムアウト |
| `BASH_MAX_OUTPUT_LENGTH` | bash出力が中央で切り詰められる前の最大文字数 |
| `CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR` | 各Bashコマンド後に元の作業ディレクトリに戻る |
| `CLAUDE_CODE_API_KEY_HELPER_TTL_MS` | 認証情報を更新する間隔（ミリ秒）（ `apiKeyHelper` 使用時） |
| `CLAUDE_CODE_MAX_OUTPUT_TOKENS` | ほとんどのリクエストの最大出力トークン数を設定 |
| `CLAUDE_CODE_USE_BEDROCK` | Bedrockを使用（ [Bedrock & Vertex](/ja/docs/claude-code/bedrock-vertex-proxies) を参照） |
| `CLAUDE_CODE_USE_VERTEX` | Vertexを使用（ [Bedrock & Vertex](/ja/docs/claude-code/bedrock-vertex-proxies) を参照） |
| `CLAUDE_CODE_SKIP_BEDROCK_AUTH` | Bedrockの AWS認証をスキップ（LLMゲートウェイ使用時など） |
| `CLAUDE_CODE_SKIP_VERTEX_AUTH` | VertexのGoogle認証をスキップ（LLMゲートウェイ使用時など） |
| `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC` | `DISABLE_AUTOUPDATER` 、 `DISABLE_BUG_COMMAND` 、 `DISABLE_ERROR_REPORTING` 、 `DISABLE_TELEMETRY` の設定と同等 |
| `DISABLE_AUTOUPDATER` | 自動アップデーターを無効にするには `1` に設定 |
| `DISABLE_BUG_COMMAND` | `/bug` コマンドを無効にするには `1` に設定 |
| `DISABLE_COST_WARNINGS` | コスト警告メッセージを無効にするには `1` に設定 |
| `DISABLE_ERROR_REPORTING` | Sentryエラーレポートをオプトアウトするには `1` に設定 |
| `DISABLE_NON_ESSENTIAL_MODEL_CALLS` | フレーバーテキストなどの非重要パスのモデル呼び出しを無効にするには `1` に設定 |
| `DISABLE_TELEMETRY` | Statsigテレメトリをオプトアウトするには `1` に設定（Statsigイベントにはコード、ファイルパス、bashコマンドなどのユーザーデータは含まれません） |
| `HTTP_PROXY` | ネットワーク接続用のHTTPプロキシサーバーを指定 |
| `HTTPS_PROXY` | ネットワーク接続用のHTTPSプロキシサーバーを指定 |
| `MAX_THINKING_TOKENS` | モデル予算の思考を強制 |
| `MCP_TIMEOUT` | MCPサーバー起動のタイムアウト（ミリ秒） |
| `MCP_TOOL_TIMEOUT` | MCPツール実行のタイムアウト（ミリ秒） |
| `MAX_MCP_OUTPUT_TOKENS` | MCPツールレスポンスで許可される最大トークン数（デフォルト：25000） |

## [​](#%E8%A8%AD%E5%AE%9A%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3)

設定オプション

グローバル設定を `settings.json` に移行中です。

`claude config` は [settings.json](/_sites/docs.anthropic.com/ja/docs/claude-code/settings#settings-files) に代わって非推奨になります

設定を管理するには、以下のコマンドを使用してください：

- 設定をリスト表示： `claude config list`
- 設定を確認： `claude config get < key >`
- 設定を変更： `claude config set < key > < value >`
- 設定にプッシュ（リスト用）： `claude config add < key > < value >`
- 設定から削除（リスト用）： `claude config remove < key > < value >`

デフォルトでは `config` はプロジェクト設定を変更します。グローバル設定を管理するには、 `--global` （または `-g` ）フラグを使用してください。

### [​](#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E8%A8%AD%E5%AE%9A)

グローバル設定

グローバル設定を設定するには、 `claude config set -g < key > < value >` を使用してください：

| キー | 説明 | 例 |
| --- | --- | --- |
| `autoUpdates` | 自動更新を有効にするかどうか（デフォルト： `true` ） | `false` |
| `preferredNotifChannel` | 通知を受け取りたい場所（デフォルト： `iterm2` ） | `iterm2` 、 `iterm2_with_bell` 、 `terminal_bell` 、または `notifications_disabled` |
| `theme` | カラーテーマ | `dark` 、 `light` 、 `light-daltonized` 、または `dark-daltonized` |
| `verbose` | 完全なbashおよびコマンド出力を表示するかどうか（デフォルト： `false` ） | `true` |

## [​](#claude%E3%81%8C%E5%88%A9%E7%94%A8%E3%81%A7%E3%81%8D%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB)

Claudeが利用できるツール

Claude Codeは、コードベースを理解し変更するのに役立つ強力なツールセットにアクセスできます：

| ツール | 説明 | 必要な権限 |
| --- | --- | --- |
| **Agent** | 複雑な多段階タスクを処理するサブエージェントを実行 | なし |
| **Bash** | 環境でシェルコマンドを実行 | あり |
| **Edit** | 特定のファイルに対象を絞った編集を行う | あり |
| **Glob** | パターンマッチングに基づいてファイルを検索 | なし |
| **Grep** | ファイル内容のパターンを検索 | なし |
| **LS** | ファイルとディレクトリをリスト表示 | なし |
| **MultiEdit** | 単一ファイルに対して複数の編集をアトミックに実行 | あり |
| **NotebookEdit** | Jupyterノートブックセルを変更 | あり |
| **NotebookRead** | Jupyterノートブックの内容を読み取り表示 | なし |
| **Read** | ファイルの内容を読み取り | なし |
| **TodoRead** | 現在のセッションのタスクリストを読み取り | なし |
| **TodoWrite** | 構造化されたタスクリストを作成・管理 | なし |
| **WebFetch** | 指定されたURLからコンテンツを取得 | あり |
| **WebSearch** | ドメインフィルタリング付きでWeb検索を実行 | あり |
| **Write** | ファイルを作成または上書き | あり |

権限ルールは `/allowed-tools` または [権限設定](/ja/docs/claude-code/settings#available-settings) で設定できます。

### [​](#%E3%83%95%E3%83%83%E3%82%AF%E3%81%A7%E3%83%84%E3%83%BC%E3%83%AB%E3%82%92%E6%8B%A1%E5%BC%B5)

フックでツールを拡張

[Claude Codeフック](/ja/docs/claude-code/hooks) を使用して、任意のツール実行前後にカスタムコマンドを実行できます。

例えば、ClaudeがPythonファイルを変更した後に自動的にPythonフォーマッターを実行したり、特定のパスへのWrite操作をブロックして本番設定ファイルの変更を防いだりできます。

## [​](#%E9%96%A2%E9%80%A3%E9%A0%85%E7%9B%AE)

関連項目

- [アイデンティティとアクセス管理](/ja/docs/claude-code/iam#configuring-permissions) - Claude Codeの権限システムについて学ぶ
- [IAMとアクセス制御](/ja/docs/claude-code/iam#enterprise-managed-policy-settings) - エンタープライズポリシー管理
- [トラブルシューティング](/ja/docs/claude-code/troubleshooting#auto-updater-issues) - 一般的な設定問題の解決策

Was this page helpful?

[スラッシュコマンド](/ja/docs/claude-code/slash-commands) [フック](/ja/docs/claude-code/hooks)

On this page

- [設定ファイル](#%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB)
- [利用可能な設定](#%E5%88%A9%E7%94%A8%E5%8F%AF%E8%83%BD%E3%81%AA%E8%A8%AD%E5%AE%9A)
- [権限設定](#%E6%A8%A9%E9%99%90%E8%A8%AD%E5%AE%9A)
- [設定の優先順位](#%E8%A8%AD%E5%AE%9A%E3%81%AE%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D)
- [環境変数](#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0)
- [設定オプション](#%E8%A8%AD%E5%AE%9A%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3)
- [グローバル設定](#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E8%A8%AD%E5%AE%9A)
- [Claudeが利用できるツール](#claude%E3%81%8C%E5%88%A9%E7%94%A8%E3%81%A7%E3%81%8D%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB)
- [フックでツールを拡張](#%E3%83%95%E3%83%83%E3%82%AF%E3%81%A7%E3%83%84%E3%83%BC%E3%83%AB%E3%82%92%E6%8B%A1%E5%BC%B5)
- [関連項目](#%E9%96%A2%E9%80%A3%E9%A0%85%E7%9B%AE)
