# ユーザージャーニー客観的レビュー

## 全体フロー再確認

```
[me] ──「認証機能作って」──> [you]
         │                     │
         │                     ├─ GraphDB確認
         │                     └─ /org auth-impl src/auth "JWT認証実装"
         │                              │
         │                              ▼
         │                        [org system]
         │                              │
         │                              ├─ worktree作成
         │                              ├─ DB_URI設定
         │                              └─ member起動
         │                                    │
         │                                    ▼
         │                              [Claude member]
         │                                    │
         │                                    ├─ 自律的に作業
         │                                    └─ 完了報告
         │                                          │
         └─────────────────────────────────────────┘
```

## 🟢 整合性が取れている点

### 1. 責務分離の明確さ
- **org**: 環境準備のみ（実装に介入しない）
- **member**: 実装の全責任（自律的判断）

### 2. GraphDBアクセス
- DB_URI環境変数で一貫性確保
- memberが直接クエリ（中間ファイル不要）

### 3. ログの自動性
- 出力=記録（追加処理不要）
- stream.jsonlは自然に充実

## 🔴 潜在的な問題点

### 1. 初期情報の不足

```
問題:
[org] ──起動──> [member]
                   │
                   └─ 「何を作るの？」

現状:
- spec_idを除外した
- でも作るものの仕様はどう伝える？
```

**影響**: memberが何を実装すべきか不明確

### 2. GraphDBクエリの前提

```
問題:
[member]: 「JWT認証を実装します」
           │
           └─ でも、どんなクエリで仕様を取得？
               プロジェクト固有の命名規則は？
```

**影響**: 適切な仕様を見つけられない可能性

### 3. 複数memberの調整

```
問題:
[member A] ─> src/auth/jwt.rs 作成
[member B] ─> src/auth/jwt.rs 作成  ← 衝突！
```

**影響**: sparse-checkoutでも共通ファイルで競合

### 4. エラー時の学習サイクル

```
問題:
[member] ──エラー解決──> stream.jsonl
                            │
                            └─ GraphDBには反映されない
                                （DMLは別システム）
```

**影響**: 新しい解決策が他memberに共有されない

### 5. 完了判定の曖昧さ

```
問題:
[member]: 「実装完了しました」
           │
           └─ でも、仕様を満たしているかの判定は？
               受け入れ基準は？
```

**影響**: 品質保証が不明確

## 🟡 改善提案

### 1. 最小限の仕様伝達

```bash
# org起動時のプロンプトに含める
TASK_SPEC="JWT認証実装: 
- トークン検証機能
- リフレッシュ機能
- テスト必須"

launch_member --prompt "$TASK_SPEC"
```

### 2. プロジェクトコンテキスト

```bash
# 環境変数で追加情報
export PROJECT_TYPE="rust_web_api"
export NAMING_CONVENTION="snake_case"
```

### 3. 完了基準の明示

```bash
# memberへの指示に含める
"完了条件:
 - cargo test 全通過
 - cargo clippy エラーなし"
```

## 🎯 総合評価

### 動作可能性: 70%

**可能な部分**:
- 基本的な実装タスク
- 単純なエラー解決
- 独立した機能開発

**困難な部分**:
- 複雑な仕様の実装
- 複数member間の調整
- 品質基準の保証

### 推奨事項

1. **段階的導入**: 単純なタスクから開始
2. **仕様の最小伝達**: プロンプトに含める
3. **品質基準明示**: 完了条件を明確に
4. **単一member開始**: 並行実行は後回し

この設計で基本的なタスクは実行可能ですが、複雑なケースには追加の考慮が必要です。