# Meta Node POC

## 概要
このPOCは、Cypherクエリをグラフノード内に格納し、そのクエリを動的に実行する仕組みを検証します。

## 目的
- グラフノード自体にクエリロジックを持たせる
- メタプログラミング的なアプローチでグラフ操作を実現
- クエリの再利用性と管理性の向上

## 想定される実装
1. **クエリノード**: Cypherクエリをプロパティとして持つ特殊なノード
2. **実行エンジン**: ノードからクエリを取得して実行する仕組み
3. **パラメータ管理**: クエリパラメータの動的バインディング

## ユースケース
- 頻繁に使用されるクエリパターンの管理
- 動的なグラフ探索ロジックの実装
- クエリテンプレートの再利用

## 技術スタック
- KuzuDB: グラフデータベース
- Cypher: クエリ言語
- Nix: 開発環境管理

## 将来の拡張機能

### 1. VSS (Vector Similarity Search) 統合
- MATCHクエリでVSSランク上位の結果を取得
- ベクトル類似度に基づく動的クエリ実行
- 例: `MATCH (n:Node) WHERE vss_rank(n.embedding, $query_vector) > 0.8`

### 2. メタノードチェーン実行
- クエリを含むメタノード自体をMATCHし、VSS結果を連鎖実行
- 複数のメタノードを組み合わせた複雑なワークフロー構築
- 例: メタノードA → VSS検索 → メタノードB → 結果集約

### 実装アプローチ
1. KuzuDBのVSS機能調査（ベクトルインデックス、類似度関数）
2. メタノードへのembeddingプロパティ追加
3. VSSベースのクエリ実行エンジン拡張
4. メタノード連鎖実行フレームワークの設計