---
url: https://zenn.dev/fujihide/articles/d096f376e2479e
saved_at: 2025-07-08T02:41:39Z
title: カスタムスラッシュコマンドでClaude Code+Gitフローの自走力を爆上げする｜fujihide
domain: zenn.dev
---

[](https://twitter.com/intent/tweet?url=https://zenn.dev/fujihide/articles/d096f376e2479e&text=%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%B9%E3%83%A9%E3%83%83%E3%82%B7%E3%83%A5%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7Claude%20Code%2BGit%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E8%87%AA%E8%B5%B0%E5%8A%9B%E3%82%92%E7%88%86%E4%B8%8A%E3%81%92%E3%81%99%E3%82%8B%EF%BD%9Cfujihide&hashtags=zenn) [](http://www.facebook.com/sharer.php?u=https://zenn.dev/fujihide/articles/d096f376e2479e) [](https://b.hatena.ne.jp/add?mode=confirm&url=https://zenn.dev/fujihide/articles/d096f376e2479e&title=%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%B9%E3%83%A9%E3%83%83%E3%82%B7%E3%83%A5%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7Claude%20Code%2BGit%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E8%87%AA%E8%B5%B0%E5%8A%9B%E3%82%92%E7%88%86%E4%B8%8A%E3%81%92%E3%81%99%E3%82%8B%EF%BD%9Cfujihide&hashtags=zenn) [](http://www.facebook.com/sharer.php?u=https://zenn.dev/fujihide/articles/d096f376e2479e) [](https://b.hatena.ne.jp/add?mode=confirm&url=https://zenn.dev/fujihide/articles/d096f376e2479e&title=%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%B9%E3%83%A9%E3%83%83%E3%82%B7%E3%83%A5%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7Claude%20Code%2BGit%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E8%87%AA%E8%B5%B0%E5%8A%9B%E3%82%92%E7%88%86%E4%B8%8A%E3%81%92%E3%81%99%E3%82%8B%EF%BD%9Cfujihide)

[![](https://storage.googleapis.com/zenn-user-upload/topics/fcf46d7d91.png) GitHub](/topics/github) [![](https://storage.googleapis.com/zenn-user-upload/topics/c30a54da50.png) Claude](/topics/claude) [![](https://zenn.dev/images/topic.png) AIエージェント](/topics/aiagent) [![](https://storage.googleapis.com/zenn-user-upload/topics/bf0d437ae5.png) Claude Code](/topics/claudecode) [![](https://zenn.dev/images/topic.png) Vibe Coding](/topics/vibecoding) [![](https://static.zenn.studio/images/drawing/tech-icon.svg) tech](/tech-or-idea)

![](https://storage.googleapis.com/zenn-user-upload/b6cb678aff8c-20250704.png)

# [](#%E3%81%93%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AF) この記事は

Claude Codeを使ったAgentic Codingにおいて、Gitフローの開発ルールをCLAUDE.mdからカスタムスラッシュコマンドに移動したら自走力が大幅に向上した話です。

# [](#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8) やりたいこと

Cloud Code、GitHub、 [ghコマンド](https://docs.github.com/ja/github-cli/github-cli/about-github-cli) を使ってGitフローの流れで開発します。タスクは事前にIssueとして登録されています。

- Issue対応
  1. (H)Issue番号を指定して作業依頼
  1. (AI)Issue開始報告→ブランチ作成→ファイル編集→コミット & プッシュPR作成→Issue完了報告
- PRレビュ & 指摘対応
  1. (H)レビュ指摘コメントをPRに入力
  1. (H)PR番号を指定して指摘対応依頼
  1. (AI)PRコメント確認→ファイル編集→コミット & プッシュ→PR指摘対応完了報告

凡例 (AI):AI(Claude Code)の作業, (H):人間の作業

AIの作業は自律的に判断し自走して完了することが期待されています。

# [](#%E5%9B%B0%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8) 困ったこと

このルールをCLAUDE.md に書いて運用したところ、AI作業の漏れや誤りが頻発して人間のフォローが必要な状況でした。

- Issue・PRの開始・完了報告コメント漏れ
- コミットコメント書式誤り
- 誤ったマージ先ブランチでのPR起票

CLAUDE.md にはアーキテクチャ、コーディング規約、テスト戦略、開発環境など様々な情報があったので、AIが開発ルールを見落とした可能性があります。

# [](#%E8%A7%A3%E6%B1%BA%E7%AD%96) 解決策

Claude Codeのカスタム [スラッシュコマンド](https://docs.anthropic.com/ja/docs/claude-code/slash-commands) を活用して開発ルールを移動しました。作ったコマンドは下記２つ。 `.claude/commands` の下に配置します。

1. Issue開始～PR起票
ファイル名:start-issue.md
使い方:/start-issue 番号

````md
Issue #$ARGUMENT の内容を確認して作業着手してください。

 - 作業ルール
   - 着手した旨をIssueコメントに入力してください。
   - `develop` ブランチからIssue用のブランチを切って作業開始してください。
   - コミットコメントにはIssue番号を含めてください。
   - 作業完了後は対応内容をIssueコメントに入力して、Pull Requestを提出してください。
   - Pull Requestの概要欄に `resolves #Issue番号` と入力してください 
   - 作業時には下記ドキュメントを参照してください。
````
1. PR指摘対応
ファイル名:answer-pr.md
使い方:/answer-pr 番号

````md
Pull Request #$ARGUMENT の最新の指摘コメントを確認して対応してください。

 - 作業ルール
   - コミットコメントにはIssue番号を含めてください。
   - 作業完了後は対応内容をPull Requestコメントに入力してください。
   - 作業時には下記ドキュメントを参照してください。
````

期待通りに動きました！

Issue番号を指定するだけで、Issue開始からPR起票まで自走してくれるようになりました。![](https://storage.googleapis.com/zenn-user-upload/569cb500712d-20250704.png)

PR指摘対応もPR番号を指定するだけで、指摘対応コメントまで自走してくれています。![](https://storage.googleapis.com/zenn-user-upload/1d4d59bbb06d-20250704.png)

作業漏れもありません。これで心配事も減りますね。

# [](#%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A8%E5%AD%A6%E3%81%B3) まとめと学び

こんな小さな変更でAIの作業精度が大幅に向上する結果に驚き、プロンプトやコンテキストの最適化の重要性を実感しました。
思えば、重厚長大なドキュメントを渡してもうまく働けないのは人間もですよね。

ドキュメント生成をAIに雑に任せると肥大化・重複化しがちなので、AIの性能を引き出すため、なるべく人間が書いて必要最小限を保っていきたいと思います。

また、Claude CodeのHooksやMCPなど他のカスタマイズ・拡張ポイントも活用してコンテキスト・プロトコルの最適化を探っていきたいと思います。

[](https://twitter.com/intent/tweet?url=https://zenn.dev/fujihide/articles/d096f376e2479e&text=%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%B9%E3%83%A9%E3%83%83%E3%82%B7%E3%83%A5%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7Claude%20Code%2BGit%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E8%87%AA%E8%B5%B0%E5%8A%9B%E3%82%92%E7%88%86%E4%B8%8A%E3%81%92%E3%81%99%E3%82%8B%EF%BD%9Cfujihide&hashtags=zenn) [](http://www.facebook.com/sharer.php?u=https://zenn.dev/fujihide/articles/d096f376e2479e) [](https://b.hatena.ne.jp/add?mode=confirm&url=https://zenn.dev/fujihide/articles/d096f376e2479e&title=%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%B9%E3%83%A9%E3%83%83%E3%82%B7%E3%83%A5%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7Claude%20Code%2BGit%E3%83%95%E3%83%AD%E3%83%BC%E3%81%AE%E8%87%AA%E8%B5%B0%E5%8A%9B%E3%82%92%E7%88%86%E4%B8%8A%E3%81%92%E3%81%99%E3%82%8B%EF%BD%9Cfujihide)

### Discussion

![](https://static.zenn.studio/images/drawing/discussion.png)