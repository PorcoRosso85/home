{
  "id": "auth-service",
  "version": "2.1.0",
  "path": "/services/auth",
  "purpose": "Provide JWT-based authentication and RBAC authorization for all services",
  "type": "service",
  "performance": {
    "max_latency_ms": 100,
    "max_memory_mb": 512,
    "max_cpu_percent": 25,
    "throughput_rps": 1000
  },
  "dependencies": [
    {
      "id": "database-layer",
      "version_constraint": ">=3.0.0 <4.0.0",
      "required_methods": ["find_user", "save_session", "delete_session"],
      "optional": false
    },
    {
      "id": "redis-cache",
      "version_constraint": ">=2.0.0",
      "required_methods": ["get", "set", "expire"],
      "optional": true
    }
  ],
  "interfaces": {
    "inputs": [
      {
        "name": "credentials",
        "data_type": "object",
        "required": true,
        "validation": {
          "min": 1,
          "max": 1024
        }
      },
      {
        "name": "mfa_code",
        "data_type": "string",
        "required": false,
        "validation": {
          "pattern": "^[0-9]{6}$"
        }
      }
    ],
    "outputs": [
      {
        "name": "access_token",
        "data_type": "string",
        "guaranteed": true
      },
      {
        "name": "refresh_token",
        "data_type": "string",
        "guaranteed": false
      }
    ],
    "errors": [
      {
        "code": "AUTH_FAILED",
        "message": "Invalid credentials",
        "retry_strategy": "none"
      },
      {
        "code": "RATE_LIMITED",
        "message": "Too many attempts",
        "retry_strategy": "exponential_backoff"
      },
      {
        "code": "SERVICE_UNAVAILABLE",
        "message": "Database connection lost",
        "retry_strategy": "retry_3_times_then_fail"
      }
    ]
  },
  "constraints": {
    "security": {
      "authentication": "jwt",
      "authorization": "rbac",
      "encryption": {
        "at_rest": "aes256",
        "in_transit": "tls1.3"
      },
      "mfa_required": false,
      "token_ttl_seconds": 3600
    },
    "network": {
      "timeout_ms": 5000,
      "retry_policy": "retry_3_times_then_fail",
      "max_connections": 100
    },
    "environment": {
      "allowed": ["staging", "production"],
      "forbidden": ["development", "local"]
    }
  },
  "initialization": {
    "order": 2,
    "timeout_ms": 10000,
    "required_services": ["database-layer"],
    "health_check_endpoint": "/health"
  },
  "breaking_changes": [
    {
      "version": "2.0.0",
      "type": "removed_method",
      "description": "Removed get_user_by_email method",
      "migration_guide": "Use find_user with email filter instead"
    },
    {
      "version": "2.1.0",
      "type": "changed_signature",
      "description": "authenticate now requires MFA code parameter",
      "migration_guide": "Pass null for mfa_code if MFA not enabled"
    }
  ]
}