# マジックナンバー監査レポート

## 概要
DQLクエリ内で根拠のないドメイン値（マジックナンバー）を網羅的に調査した結果。
これらの値は業界ベンチマークや理論的根拠なしに設定されている。

## 重要度: 高（プロダクトの信頼性に直結）

### 1. 報酬率関連
| ファイル | 値 | 用途 | 問題点 |
|---------|-----|------|--------|
| reward_model_generator.cypher | 0.05 ~ 0.45 (5%~45%) | レート生成範囲 | なぜこの範囲か根拠なし |
| reward_model_generator.cypher | 0.02 | レート増分 | なぜ2%刻みか根拠なし |
| reward_plan_simulation.cypher | 0.15 (15%) | ベースライン | なぜ15%が基準か根拠なし |
| reward_plan_simulation.cypher | 0.10, 0.25 | 保守的/積極的 | なぜ10%と25%か根拠なし |
| partner_roi_analysis.cypher | 0.2 (20%) | 推定報酬率 | なぜ20%か根拠なし |
| optimal_rate_finder.cypher | 0.6, 0.4 | 利益:満足度の重み | なぜ60:40か根拠なし |

### 2. 成長率・予測関連
| ファイル | 値 | 用途 | 問題点 |
|---------|-----|------|--------|
| cashflow_projection.cypher | 1.05 (5%) | 四半期成長率 | なぜ5%か根拠なし |
| cashflow_projection.cypher | 0.25 (25%) | 四半期収益換算 | なぜ年間の25%か根拠なし |
| cashflow_projection.cypher | 0.10 (10%) | 報酬支払い率 | なぜ10%か根拠なし |

### 3. アトリビューション重み
| ファイル | 値 | 用途 | 問題点 |
|---------|-----|------|--------|
| attribution_path_analysis.cypher | 0.3, 0.6, 0.5 | パートナー貢献度 | なぜこの重みか根拠なし |
| attribution_path_analysis.cypher | 0.7, 0.4, 0.5 | キャンペーン貢献度 | なぜこの重みか根拠なし |
| attribution_path_analysis.cypher | 1.2, 1.4, 1.5 | シナジーボーナス | なぜこの倍率か根拠なし |

### 4. リテンション・LTV関連
| ファイル | 値 | 用途 | 問題点 |
|---------|-----|------|--------|
| retention_rate_comparison.cypher | 15-30% | パートナー経由の向上率 | 具体的データなし |
| retention_rate_comparison.cypher | 80%, 60% | 高/中リテンション閾値 | なぜこの基準か根拠なし |

## 重要度: 中（ビジネスロジックに影響）

### 5. 階層・閾値関連
| ファイル | 値 | 用途 | 問題点 |
|---------|-----|------|--------|
| reward_plan_simulation.cypher | 5000 | ティア境界値 | なぜ5000か根拠なし |
| reward_plan_simulation.cypher | 0.12, 0.18 | ティア別レート | なぜこの差か根拠なし |
| optimal_rate_finder.cypher | 0.10, 0.20, 0.30 | 推奨区分の境界 | なぜこの区切りか根拠なし |

### 6. 満足度関連
| ファイル | 値 | 用途 | 問題点 |
|---------|-----|------|--------|
| optimal_rate_finder.cypher | EXP(-3 * rate) | 満足度計算式 | なぜ指数関数で-3か根拠なし |

## 影響分析

### 致命的な問題
1. **説明不可能性**: 顧客から「なぜ20%なのか？」と聞かれて答えられない
2. **信頼性の欠如**: 根拠のない数値で経営判断を促すことのリスク
3. **競合優位性の喪失**: 「業界標準」「ベストプラクティス」を提示できない

### 必要な対応

#### Phase 1: データ収集（緊急）
- SaaS業界の標準的な報酬率データ
- パートナープログラムのベンチマーク
- LTV/CPA比率の業界標準

#### Phase 2: 理論構築
- 各パラメータの選択根拠を文書化
- 代替値との比較分析
- 感度分析による最適値の検証

#### Phase 3: 実装改善
- 業界データを参照するクエリ構造
- パラメータ選択の説明可能性を返す機能
- カスタマイズ可能な重み付け設定

## 結論

現在の実装は「計算機」レベル。
「外部ブレイン」になるには、すべての数値に「なぜ」を答えられる必要がある。

> 「この数値は、SaaS業界上位20%の企業の平均値に基づいています」
> 「この重みは、1,000社のA/Bテストの結果から導出されました」

このような説明ができて初めて、経営者は安心して意思決定を委ねられる。