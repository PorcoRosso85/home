# セキュリティ規約

## 基本方針

セキュリティは、後から追加する機能ではなく、設計段階から組み込むべき品質特性です。
すべての開発者は、セキュアコーディングの基本原則を理解し、実践する責任があります。

## シークレット管理

- **コードにシークレットを絶対に含めない**: APIキー、データベース接続情報、パスワード、トークンなどのシークレット情報を、ソースコードや設定ファイルに直接書き込んではいけません。
- **環境変数を使用する**: シークレットは、実行環境の環境変数を通じてアプリケーションに渡します。
- **シークレット管理ツールの利用**: プロジェクトに応じて、Doppler, 1Password, Vault などの専用のシークレット管理ツールを利用することを推奨します。

## 入力値の検証とサニタイズ

- **すべての外部入力を信頼しない**: ユーザーからのリクエストボディ、クエリパラメータ、ヘッダー、外部APIからのレスポンスなど、システムの境界を越えて入ってくるデータはすべて信頼せず、必ず検証します。
- **入力検証**: 想定されるデータ型、フォーマット、範囲、長さに合致するかを厳密にチェックします。
バリデーションライブラリ（例: Zod, Pydantic）の利用を推奨します。
- **出力時のエスケープ**: HTML、SQL、シェルコマンドなど、他のシステムにデータを渡す際は、コンテキストに応じた適切なエスケープ処理を行い、インジェクション攻撃（XSS, SQLインジェクションなど）を防ぎます。

## 依存関係の脆弱性管理

- **定期的なスキャン**: `npm audit`, `pip-audit`, `cargo audit` などのツールを使って、プロジェクトが依存するライブラリに既知の脆弱性がないか定期的にスキャンします。
- **依存関係の更新**: 脆弱性が発見された場合は、速やかにライブラリのバージョンを更新してください。
