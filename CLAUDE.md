# グローバル設定

## 作業規則
- コード変更には/trd_dqlコマンドによる要件設定が必要
- 要件はTRDシステムにのみ基づく
- READMEと同じタスクをおこなう。異なるタスクを計画するべきと判断した場合ユーザーに確認する。
- URLが与えられた場合、`/web`コマンドを実行して本文を抽出する。

## 例外処理
- /trd_dqlに基づかないコード変更要求：
  「その変更には要件定義が必要です。まず/trd_dqlで要件を設定してください」
- 緊急修正の場合：
  「緊急修正も要件化が必要です。req_hotfix_YYYYMMDDとして追加してください」

## プロジェクト
- KuzuDB要件管理: ~/bin/src/kuzu/

## 開発規約
- **規約ディレクトリ**: `/home/nixos/bin/docs/conventions/` 内のマークダウンファイル群を唯一の規約とする。
- 全言語・全プロジェクトで統一規約を適用。

## 作業の合言葉
- **「組織」「別のClaudeに依頼」「階層構造」**: `/org` コマンドを実行（並列タスク実行）
- **「新しいコマンド追加」「カスタムコマンド作成」**: `/add-command` コマンドを実行
- **「TDD Red」「失敗するテスト」「t-wada」**: `/tdd_red` コマンドを実行
- **「POC」「記事を保存」「ドキュメント保存」「readability」**: `/poc` コマンドを実行
- **「仕様」「spec」「テスト一覧」「責務確認」**: `/spec` コマンドを実行
- **「コミット」「git commit」**: `/commit` コマンドを実行（Claudeが編集したファイルのみのコミットを保証）
- **「議論」「前提確認」「要件整理」「ソクラテス的対話」「ASCII」「シーケンス図」「処理の流れ」「sequential diagram」「discuss」**: `/discuss` コマンドを実行（議論を深め、必要に応じてASCII図で可視化）
- **「URL」「ウェブ記事」「記事を読む」**: `/web` コマンドを実行（URLから本文を抽出）
- **「TRD」「要件」「トレーサビリティ」「DQL」**: `/trd_dql` コマンドを実行（要件の照会・確認）
- **「データ投入」「DML」「要件登録」**: `/trd_dml` コマンドを実行（要件データベースの構築）

## Git Commit Rules
自らが編集したファイル以外のstagingがないことを確認後、初めてコミット可能